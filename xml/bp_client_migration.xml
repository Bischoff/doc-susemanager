<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml"
                 title="Profiling step"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         version="5.0"
         xml:id="bp.client.migration">
 <title>Client Migration</title>

 <info>
  <abstract>
   <para>
    &susemgr; supports you with upgrading SLE clients to the latest
    version or SP (service pack).  Upgrading from SLE 12 or SLE 12 SP1
    to SLE 12 SP2 or later (when available) is straight forward.
    Upgrading from SLE 11 SPx to SLE 12 SP2 or later (when available)
    requires some additional steps, but can be automated.
   </para>
<!--
   <para>
    For migrating from version 2.1 to 3.0, see <xref
    linkend="bp.chap.mgr.migration"/>.
   </para>
-->
  </abstract>
 </info>
<!--
 <sect1 xml:id="bp.client.migration.sp">
  <title>Service Pack Migration</title>
  <para>
   SUSE Manager utilizes &sls; 12 as its underlying operating system.
   Therefore Service Pack migration (for example, from version 12 SP1 to
   12 SP2) may be performed in the same way as a typical SLES migration.
  </para>
  <para>
   &suse; offers a graphical and command line tool for upgrading to a
   new service pack.  Comprehensive documentation for executing service
   pack migration scenarios is located in the &sls; documentation chapter
   <link
   xlink:href="https://www.suse.com/documentation/sles-12/book_sle_deployment/data/cha_update_spmigration.html"
   />.
  </para>
 </sect1>
-->
  <sect1 xml:id="bp.client.migration.sle12">
   <title>Migrating &sle; 12 or later to version 12 SP2</title>

   <para>
    Existing sle clients may be upgraded to SP2 with
    &yast; or <command>zypper</command> migration.
   </para>

    <warning>
     <title>Synchronizing Target Channels</title>
     <para>
      Before successfully initializing the product migration, you first
      must make sure that the migration target channels are completely
      mirrored.  For the upgrade to xxx, at least the
      <systemitem>SUSE Linux Enterprise Server 12 SP2</systemitem> base
      channel with the <systemitem>xxx</systemitem>
      child channel for your architecture is required.
     </para>
    </warning>
    <procedure>
     <title>Migrating Client to SP2</title>
     <step>
      <para>
       Direct your browser to the &susemgr; &webui; where your client is
       registered, and login.
      </para>
     </step>
     <step>
      <para>
       On the
       <menuchoice><guimenu>Systems</guimenu><guimenu>All</guimenu></menuchoice>
       page select your client system from the table.
      </para>
      <figure xml:id="fig-sles-old-details">
       <title>Client System Details Page</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="sles_old_details_page.png" width="80%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="sles_old_details_page.png"/>
        </imageobject>
       </mediaobject>
      </figure>

     </step>

     <step>
      <para>
       On the system's detail page (<xref
       linkend="fig-sles-old-details"/>) select the
       <guimenu>Software</guimenu> tab, then the <guimenu>SP
       Migration</guimenu> tab (<xref linkend="fig-sles-old-spmigr"/>).
      </para>
      <figure xml:id="fig-sles-old-spmigr">
       <title>SP Migration Page</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="sles_old_details_spmigration.png" width="80%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="sles_old_details_spmigration.png"/>
        </imageobject>
       </mediaobject>
      </figure>

      </step>

      <step>
       <para>
        On <xref linkend="fig-sles-old-spmigr"/> you will see the
        installed products listed on your client. Select the
        wanted <guimenu>Product Targets</guimenu>, which is
        <systemitem>&sls; 12 SP2</systemitem>.
       </para>
       <figure xml:id="fig-sles-migration-target">
        <title>SP Migration Target</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="suma_proxy_migration_target.png" width="80%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="suma_proxy_migration_target.png"/>
        </imageobject>
       </mediaobject>
      </figure>
       <para>
        Then confirm with <guimenu>Select Channels</guimenu>.
       </para>
       <figure xml:id="fig-sles-migration-channels">
        <title>SP Migration Channels</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="suma_proxy_migration_channels.png" width="80%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="suma_proxy_migration_channels.png"/>
        </imageobject>
       </mediaobject>
      </figure>
      </step>
      <step>
       <para>
        On <xref linkend="fig-sles-migration-channels"/>,
        <guimenu>Schedule Migration</guimenu>, and then
        <guimenu>Confirm</guimenu>.
       </para>
      </step>
    </procedure>
    <!-- <result> -->
       <para>
        Check the <guimenu>System Status</guimenu> on the system's
        details when the migration is done.
       </para>
       <figure xml:id="fig-sles-migrated">
        <title>Migrated &susemgrproxy; System</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="suma_proxy_migrated.png" width="80%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="suma_proxy_migrated.png"/>
        </imageobject>
       </mediaobject>
      </figure>
      <!-- </result> -->
      <para>
       Finally consider to schedule a reboot.
      </para>
  </sect1>

</chapter>
