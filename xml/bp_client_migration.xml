<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml"
                 title="Profiling step"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         version="5.0"
         xml:id="bp.client.migration">
 <title>Client Migration</title>

 <info>
  <abstract>
   <para>
    &susemgr; supports you with upgrading SLE clients to the latest
    version or SP (service pack).  Upgrading from SLE 12 or SLE 12 SP1
    to SLE 12 SP2 or later (when available) is straight forward.
    Upgrading from SLE 11 SPx to SLE 12 SP2 or later (when available)
    requires some additional steps, but can be automated.
   </para>
<!--
   <para>
    For migrating from version 2.1 to 3.0, see <xref
    linkend="bp.chap.mgr.migration"/>.
   </para>
-->
  </abstract>
 </info>

 <sect1 xml:id="bp.client.migration.sle12">
  <title>Migrating &sle; 12 or later to version 12 SP2</title>
  
  <para>
   Existing &sle; 12 clients (SLE) may be upgraded to SP2 with
   <guimenu>SP Migration</guimenu> procedure provided by the &webui;.
  </para>

  <warning>
   <title>Synchronizing Target Channels</title>
   <para>
    Before successfully initializing the product migration, you first
    must make sure that the migration target channels are completely
    mirrored.  For the upgrade to &sle; 12 SP2, at least the
    <systemitem>SLES12-SP2-Pool</systemitem> base channel with the
    <systemitem>SLE-Manager-Tools12-Pool</systemitem> child channel for
    your architecture is required.  The matching update channels such as
    <systemitem>SLE-Manager-Tools12-Updates</systemitem> and
    <systemitem>SLES12-SP2-Updates</systemitem> are recommended.
   </para>
  </warning>
  <procedure>
   <title>Migrating &sle; 12 Client to SP2</title>
   <step>
    <para>
     Direct your browser to the &susemgr; &webui; where your client is
     registered, and login.
    </para>
   </step>
   <step>
    <para>
     On the
     <menuchoice><guimenu>Systems</guimenu><guimenu>All</guimenu></menuchoice>
     page select your client system from the table.
    </para>
    <figure xml:id="fig-sles-old-details">
     <title>Client System Details Page</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="sles_old_details_page.png" width="80%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="sles_old_details_page.png"/>
      </imageobject>
     </mediaobject>
    </figure>
      
    <para>
     If there are <guimenu>Software Updates Available</guimenu> in the
     <guimenu>System Status</guimenu> notification install these updates
     first to avoid trouble during the migration process.
    </para>
   </step>
     
   <step>
    <para>
     On the system's detail page (<xref
     linkend="fig-sles-old-details"/>) select the
     <guimenu>Software</guimenu> tab, then the <guimenu>SP
     Migration</guimenu> tab (<xref linkend="fig-sles-old-spmigr"/>).
    </para>
    <figure xml:id="fig-sles-old-spmigr">
     <title>SP Migration Page</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="sles_old_details_spmigration.png" width="80%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="sles_old_details_spmigration.png"/>
      </imageobject>
     </mediaobject>
    </figure>

   </step>
   
   <step>
    <para>
     On <xref linkend="fig-sles-old-spmigr"/> you will see the installed
     products listed on your client. Select the wanted <guimenu>Target
     Products</guimenu> (if there is more than one), which is
     <systemitem>&sls; 12 SP2</systemitem>.
    </para>
    <figure xml:id="fig-sles-migration-target">
     <title>SP Migration Target</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="sles_migration_target.png" width="80%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="sles_migration_target.png"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     Then confirm with <guimenu>Select Channels</guimenu>.
    </para>
    <figure xml:id="fig-sles-migration-channels">
     <title>SP Migration Channels</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="sles_migration_channels.png" width="80%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="sles_migration_channels.png"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     On <xref linkend="fig-sles-migration-channels"/>, <guimenu>Schedule
     Migration</guimenu>, and on <xref
     linkend="fig-sles-migration-schedule"/>,
     <guimenu>Confirm</guimenu>.
    </para>
    <figure xml:id="fig-sles-migration-schedule">
     <title>Schedule Client System Migration</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="sles_migration_schedule.png" width="80%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="sles_migration_schedule.png"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
  </procedure>
  <!-- <result> -->
  <para>
   Check the <guimenu>System Status</guimenu> on the system's details
   when the migration is done.
  </para>
  <figure xml:id="fig-sles-migrated">
   <title>Migrated Client System</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="sles_migrated.png" width="80%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="sles_migrated.png"/>
    </imageobject>
   </mediaobject>
  </figure>
  <!-- </result> -->
  <para>
   If the <guimenu>System Status</guimenu> notification does not report
   a successful migration but lists <guimenu>Software Updates
   Available</guimenu>, install the update now and then check again.
  </para>
  <para>
   Finally consider to schedule a reboot.
  </para>
 </sect1>
 <sect1 xml:id="bp.client.migration.sle121">
  <title>Migrating &sle; 11 SP3 to version 12 SP2</title>

  <para/>
 </sect1>
 
</chapter>
