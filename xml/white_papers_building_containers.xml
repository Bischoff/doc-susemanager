<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml" 
                 title="Profiling step"?>

<!DOCTYPE chapter[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="white.papers.building.containers">

    <title>Building Containers</title>

    <sect1>
        <title>Introduction</title>
        <para>SUSE Manager enables system administrators to build containers, create Image stores,
            and profiles. The following sections provide guidance on using these new
            features.</para>

    </sect1>

    <sect1>
        <title>Requirements</title>
        <para>This feature is only available for SALT minions running on SLES12.</para>

    </sect1>

    <sect1>
        <title>Creating a Build Host</title>

        <para>To build container images with SUSE Manager, you will need to create a build host.
            Build hosts must be a Salt minion running SLES12.</para>
        <note>
            <para>During Beta phase you need to create a custom repository with the new client
                tools.</para>
        </note>

        <para>From the SUSE Manager WebUI perform the following steps to create a build host.</para>
        <procedure>
            <step>
                <para>Select the desired minion from the <guimenu>Systems Overview</guimenu>
                    page.</para>
            </step>
            <step>
                <para>From the <guimenu>System Details</guimenu> page assign the betatest client
                    tools channel to the minion by going to: <menuchoice>
                        <guimenu>Software</guimenu>
                        <guimenu>Software Channels</guimenu>
                    </menuchoice></para>
            </step>
            <step>
                <para>From the <guimenu>System Details</guimenu> page assign the containers modules
                    to the Salt minion by going to: <menuchoice>
                        <guimenu>Software</guimenu>
                        <guimenu>Software Channels</guimenu>
                    </menuchoice></para>
            </step>
            <step>
                <para>Update the "salt" and "salt-minion" packages.</para>
            </step>
            <step>
                <para>From the <menuchoice>
                        <guimenu>System Details</guimenu>
                        <guimenu>Properties</guimenu>
                    </menuchoice> page, enable the Add-on System Type: <filename>Docker Build
                        Host</filename> then select <guimenu>Update Properties</guimenu></para>
            </step>
            <step>
                <para>A state will be applied that installs the required packages.</para>
            </step>
        </procedure>
    </sect1>

    <sect1>
        <title>Creating an Image Store</title>
        <para/>
    </sect1>

    <sect1>
        <title>Define Container Build Channels with an Activation Key</title>
        <para/>
    </sect1>

    <sect1>
        <title>Creating an Image Profile</title>
        <para/>

        <sect2>
            <title>Example Dockerfile</title>
            <para/>
        </sect2>
    </sect1>

    <sect1>
        <title>Building an Image</title>
        <para/>
    </sect1>

    <sect1>
        <title>Listing Available Build Images</title>
        <para/>
    </sect1>

    <sect1>
        <title>Troubleshooting</title>
        <para/>
    </sect1>

</chapter>
