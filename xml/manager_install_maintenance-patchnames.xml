<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE section PUBLIC
  "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>

<sect1 id="s1-maintenance-patchnames">
  <title>Migrating Patches from Old to New Naming</title>
  <indexterm>
     <primary>patches</primary>
  </indexterm>
  <indexterm>
    <primary>patch names</primary>
  </indexterm>
  
  <para>Version 1.2 of &susemgr; had the following syntax of patch
    names:</para><remark role="needinfo">emap: does this section still make sense for 2.1?</remark>
  <screen>PREFIX-PATCHID-VERSIONPATCH-CHANNELARCH</screen>
  <para>This has been changed to a simpler notation:</para>
  <screen>PATCHID-VERSIONPATCH</screen>
  <para>After the migration has been successfully performed, the patches
  are listed twice after the first channel syncronization. The old names
  are still preserved and the new patch names are added. If you wish, the
  old names can be deleted (see below).
  </para>
  <para>To migrate the old names to the new names, use the
      <command>mgr-clean-old-patchnames</command> command. It requires
    either a specific channel (using the <option>-c</option> option) or
    apply the conversation to all channels (using the
      <option>-a</option> option). However, the <option>-a</option>
    option removes all patches from cloned channels.
  </para>
  <para>If a patch is not referenced from a channel, it will be deleted.
     In case you have a patch which is deleted from a specific channel,
     the patch will be preserved if it is also used in another channel.
  </para>
  <para>
    For example, to execute the conversation process only for a &slsa;11
    SP1 channel on a 64 bit architecture, use the following command:</para>
  <screen>mgr-clean-old-patchnames -c sles11-sp1-pool-x86_64</screen>
  
</sect1>
