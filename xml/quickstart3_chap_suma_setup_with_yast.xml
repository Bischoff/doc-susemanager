<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE chapter PUBLIC
"-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="suma.setup.with.yast">
    <title>&susemgr; &productnumber3; Setup</title>
    <sect1>
        <title>What's Covered Here?</title>
        <note>
            <title>Prerequisites for this Guide</title>
            <para>This section assumes you have completed the section: <link
                    linkend="suma.installation.within.kvm">&susemgr; &productnumber3; Installation
                    as an Extension</link></para>
        </note>

        <para>This chapter finalizes &susemgr; setup. You will perform the following
            procedures:</para>

        <itemizedlist>

            <listitem>
                <para> Use a terminal to initiate &susemgr; setup</para>
            </listitem>

            <listitem>
                <para>Create the <systemitem>admin</systemitem> user with the &susemgr;
                    Web-GUI</para>
            </listitem>

            <listitem>
                <para>Connect with &scc; and select channels appropriate for your clients media and
                    software sources</para>
            </listitem>

        </itemizedlist>
    </sect1>

    <sect1>
        <title>&susemgr; Setup Procedure</title>
        <procedure>
            <title>&susemgr; Setup</title>
            <para>This section will guide you through &susemgr; setup procedures.</para>
            <step>
                <para>To begin login to the &sle; 12 desktop. Open a terminal and as
                        <systemitem>root</systemitem> and type: <command>yast2
                        susemanager_setup</command> then press <keycap>enter</keycap> to initiate
                    setup.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup1.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>On the initial screen select <systemitem>Set up SUSE Manager from
                        scratch</systemitem> and then select <keycap>Next</keycap> to
                    continue.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup2.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>Enter an email address which will receive notifications about the servers
                    status. The number of emails sent from Manager can be extensive, therefore
                    notifications via email may be disabled from the web-GUI after setup if desired.
                    Select <keycap>Next</keycap> to continue.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup3.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>Enter your Certificate information and a password. The password should be
                    stored in a secure location. <emphasis>Without this password it will not be
                        possible to setup a &susemgr; Proxy Server.</emphasis> Select
                        <keycap>Next</keycap> to proceed.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup4.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>You will be using an <systemitem>Embedded Database</systemitem> for this
                    guide. Enter a database user and password. This password should be stored in a
                    secure location. Select <keycap>Next</keycap> to continue.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup5.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>&susemgr; requires that you connect to &scc; for software, updates and
                    patches. You will be unable to synchronize or provide channels to your clients
                    without this information. Enter your &scc; <systemitem>Organization
                        Credentials</systemitem>. You may register or <ulink
                        url="https://scc.suse.com/login">Login</ulink> for access to your
                    organization credentials. Select <keycap>Next</keycap> to continue.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup6.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>Select <systemitem>Yes</systemitem> to run setup when prompted. When completed
                    you will be presented with your new &susemgr; web-GUI address. Select
                        <keycap>Finish</keycap> to complete &susemgr; setup. </para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup8.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
        </procedure>
        <para>In the next section you will create the administrator account and synchronize with
            &scc;.</para>
    </sect1>
    <sect1>
        <title>Creating the &susemgr; Administrators Account</title>
        <para>This section will walk you through creating the administrator account for your
            &susemgr; Server. This is the highest authority account within &susemgr; and therefore
            administrator account access information should be stored in a secure location. It is
            recommended that an administrator creates low level user accounts designated for
            administration of each organization or group under the administrator account for
            security. </para>
        <procedure id="suma.setup.admin.account">
            <title>Setting up the Administrators Account</title>
            <step>
                <para>To begin open your browser and direct it to your &susemgr; Server URL which
                    was provided to you after completing setup.</para>
                <para>Enter your <systemitem>Desired Login*:</systemitem> name and
                        <systemitem>Desired Password*:</systemitem>. Fill in the Account Information
                    fields including an email for system notifications. Select <command>Create
                        Login</command> to finish creating your administration account.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup-admin1.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>You should now be presented with the &susemgr; Front Page.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-mgr-setup-admin2.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>

            </step>
        </procedure>
        <para>Congratulations! Welcome to the &susemgr; web-GUI. The next section will help prepare
            the server for connecting your first client.</para>


    </sect1>

    <sect1>
        <title>Synchronizing with &scc;</title>
        <para>&scc; maintains a collection of repositories which contain packages, software and updates for all supported client systems. These repositories are organized into channels each of which provide software specific to a distribution, release and architecture. You must synchronize your &susemgr; Server with &scc; to add channels for your client systems. After synchronizing with &scc; your clients are able to receive updates or be organized into groups to be assigned to a specific software channel. This section covers synchronizing with &scc; from the web-GUI and adding your first client channels.</para>
        <note>
            <title>Synchronizing from the Command Line</title>
            <para> For information on synchronizing with &scc; from the command line see: <ulink
                    url="">&susemgr; Administration from the Command Line: Reference Guide</ulink>
            </para>
            <remark>add this link to reference!</remark>
        </note>

        <procedure>
            <title>Synchronizing with &scc;</title>
            <step>
                <para>From the &susemgr; Web-GUI front-page select the
                        <systemitem>Admin</systemitem> tab.</para>
            </step>
            <step>
                <para>From the <systemitem>Setup Wizard</systemitem> page select the
                        <systemitem>&suse; Products</systemitem> tab. Wait a moment for the
                        <systemitem>Available Products Below</systemitem> list to populate. You are
                    present with a list of repositories provided from &scc;. Each of these
                    repositories represents a single software source known as a <systemitem>Base
                        Channel</systemitem> within &susemgr;. You can see the distribution,
                    architecture and version from this page.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="quickstart-webgui2.png"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>Since you will be installing &sle; 12 and &sle; 11 SP4 based on the
                        <systemitem>x86_64</systemitem> architecture, select the check-boxes for
                    each of these channels now. You can add a channel to &susemgr; by selecting
                    the single <command>+</command> button on the right or by selecting the
                        <command>+ Add products</command> button from the bottom of the page after
                    selecting your channels. &susemgr; will then schedule these channels for copying
                    and begin mirroring them. This will take a long time as &susemgr; must copy
                    all software from the &suse; Vendor repositories located at &scc; to your
                    servers <replaceable>/var/spacewalk/</replaceable> directory.</para>
                <warning>
                    <title>Finishing a Scheduled Synchronization</title>
                    <para><remark>Add the warning here about stopping a sync and its
                            implications.</remark></para>
                </warning>
            </step>
        </procedure>
    </sect1>

    <sect1>
        <title>Useful Topics From this Section</title>
        <itemizedlist>
            <title>Topic Information</title>
            <listitem>
                <para><ulink url="">&susemgr; Channels and Repositories: Reference Guide</ulink>
                </para>
            </listitem>
            <listitem>
                <para><ulink url="">&susemgr; Certificates: Reference Guide</ulink></para>
            </listitem>
            <listitem>
                <para><ulink url="">&susemgr; Databases: Reference Guide</ulink></para>
            </listitem>
        </itemizedlist>

    </sect1>
</chapter>
