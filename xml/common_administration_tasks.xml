<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml" 
                 title="Profiling step"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="common.administration.tasks">

    <title>Common Administration Tasks</title>
    <para>This chapter contains common procedures for &susemgr; administrators.</para>
    <sect1 xml:id="update.suse.manager">
     <title>Updating &susemgr;</title>
     <para>
      This section provides information on performing regular updates
      and running a <command>spacewalk-schema-upgrade</command> on your
      postgresql database.
     </para>

     <procedure>
      <title>Updating &susemgr;</title>
      <step>
       <para>As the &rootuser; user stop Spacewalk services:</para>
       <screen>spacewalk-service stop</screen>
      </step>
      <step>
       <para>Apply latest patches with:</para>
       <screen>zypper patch</screen>
      </step>
      <step>
       <para>You will be informed if a database schema was included in
       the latest patch. If the database is running on the same machine
       as your &susemgr; server, start the database with:</para>
       <screen>rcpostgresql start</screen>
      </step>
      <step>
       <para>Perform the upgrade with:</para>
       <screen>spacewalk-schema-upgrade</screen>
      </step>
      <step>
       <para>Start Spacewalk services again with:</para>
       <screen>spacewalk-service start</screen>
       <important>
        <title>Restart of Services and Applications</title>
        <para>Services affected by a package update are not
        automatically restarted after an update. You need to restart
        these services manually to avoid potential failures. </para>
        <para>You may use <command>zypper ps</command> to check for any
        applications which may be using old code. Restart these
        applications.</para>
       </important>
      </step>
     </procedure>
    </sect1>

</chapter>
