<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml" 
                 title="Profiling step"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="common.administration.tasks">

    <title>Common Administration Tasks</title>
    <para>This chapter contains common procedures for SUSE Manager administrators.</para>
    <sect1>
        <title>Updating SUSE Manager</title>
        <para>This section provides information on performing regular updates and running a
            spacewalk-schema-upgrade on your postgresql database.</para>

        <procedure>
            <title>Updating Manager</title>
            <step>
                <para>As the <literal>root</literal> user stop Spacewalk services:
                    <screen>spacewalk-service stop</screen></para>
            </step>
            <step>
                <para>Apply latest patches with: <screen>zypper patch</screen></para>
            </step>
            <step>
                <para>You will be informed if a database schema was included in the latest patch. If
                    the database is running on the same machine as your SUSE Manager server, start
                    the database with: <screen>rcpostgresql start</screen></para>
            </step>
            <step>
                <para>Perform the upgrade with: <screen>spacewalk-schema-upgrade</screen></para>
            </step>
            <step>
                <para>Start spacewalk services again with: <screen>spacewalk-service start</screen>
                    <important>
                        <title>Restart of Services and Applications</title>
                        <para>Services affected by a package update are not automatically restarted
                            after an update. You need to restart these services manually to avoid
                            potential failures. </para>
                        <para>You may use <screen>zypper ps</screen> to check for any applications
                            which may be using old code. Restart these applications.</para>
                    </important></para>
            </step>
        </procedure>
    </sect1>


</chapter>
