<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE chapter PUBLIC
"-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="suma.installation.addon.yast">
    <title>&susemgr; 3 Installation as an Add-on</title>
    <sect1>
        <title>What's Covered Here?</title>
        <para>This chapter installs the &susemgr; 3 tech preview as an add-on to &sle; 12 SP1. In
            this chapter you will:</para>

        <itemizedlist>
            <listitem>
                <para>Obtain the &susemgr; 3 snapshot for use in your VM</para>
            </listitem>
            <listitem>
                <para>Add the &susemgr; 3 snapshot as a YaST ISO repository for installation</para>
            </listitem>
            <listitem>
                <para>Install the &susemgr; 3 add-on using YaST</para>
            </listitem>
        </itemizedlist>

    </sect1>
    <sect1>
        <title>Obtaining the &susemgr; 3 Snapshot</title>
        <para>In this section you will download the &susemgr; 3 tech preview snapshot.</para>
        <procedure>
            <title>Downloading the &susemgr; 3 Snapshot</title>
            <step>
                <para>Log in to your new KVM &sle; 12 desktop.</para>
            </step>
            <step>
                <para>Open a browser and point the URL to: <ulink
                        url="http://download.suse.de/install/SUSE-Manager-3-Snapshot1"
                        >http://download.suse.de/install/SUSE-Manager-3-Snapshot1/</ulink></para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon1.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>Select and download the
                        <command>SUSE-Manager-Server-3.0-DVD-x86_64-Build0025-Media1.iso</command></para>
            </step>
        </procedure>
        <para>Once the download has completed proceed to the next section.</para>

    </sect1>
    <sect1>
        <title>Adding the &susemgr; ISO as a YaST Repository</title>
        <para>In this section you will add the downloaded &susemgr; 3 ISO to YaST for use as a media
            installation repository. </para>
        <procedure>
            <step>
                <para>Open the <systemitem>YaST</systemitem> tool and enter your
                        <systemitem>root</systemitem> password when prompted.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon2.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>Click on the <systemitem>Software Repositories</systemitem> administration
                    tool.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon3.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>

            <step>
                <para>Once the tool loads click <systemitem>Add</systemitem> to add a new
                    repository.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon4.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>At the <systemitem>Add On Product</systemitem> screen select <command>Local
                        ISO Image...</command> then <systemitem>Next</systemitem> to proceed.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon5.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>On the next screen under <systemitem>Repository Name</systemitem> enter
                        <emphasis>suma3-techpreview</emphasis> and click the
                        <systemitem>Browse</systemitem> button to proceed.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon6.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>When the <systemitem>ISO Image File</systemitem> dialog box opens navigate to
                    your local download folder and select the &susemgr; 3 snapshot image downloaded
                    previously and click <systemitem>Open</systemitem> to add it as a path.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon7.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>Alternatively if you know the ISO path before hand you may wish to simply
                    input it into the <systemitem>Path to ISO Image</systemitem> field.</para>

                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon8.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>Continue by selecting <systemitem>Next</systemitem>.</para>
            </step>
            <step>
                <para>You will be presented with the &susemgr; 3 tech preview license agreement.
                    Mark the check box <systemitem>I Agree to the License Terms</systemitem>. </para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon9.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>

            </step>
            <step>
                <para>Click <systemitem>Next</systemitem> to continue.</para>
            </step>
            <step>
                <para>At the <systemitem>Configured Software Repositories</systemitem> screen select
                        <systemitem>OK</systemitem> to finish adding the &susemgr; 3
                    repository.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-addon10.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
        </procedure>
        <para>You have completed adding the &susemgr; 3 tech preview ISO as a repository. Proceed to
            the next section to install &susemgr; 3 as an add-on to &sle; 12 SP1.</para>

    </sect1>
    <sect1>
        <title>Installation of the &susemgr; 3 Tech Preview</title>
        <para>This section covers the installation of &susemgr; 3 as an add-on to &sle; 12
            SP1.</para>

        <procedure>
            <title>Installation of the &susemgr; 3 Tech Preview</title>
            <step>
                <para>To begin, open the <systemitem>YaST</systemitem> administration tool and open
                        <systemitem>Software Management</systemitem>.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-install1.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>After <systemitem>YaST2</systemitem> has opened, click on the
                        <guimenu>View</guimenu> button and then select the <menuchoice>
                        <guimenu>Patterns</guimenu>
                    </menuchoice> option from the drop-down menu. </para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-install2.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>In the <systemitem>Pattern</systemitem> list scroll down and select the
                        <command>SUSE Manager Server</command> check box. Then click the
                        <systemitem>Accept</systemitem> button to continue with the
                    installation.</para>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-install3.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>Click <systemitem>Accept</systemitem> when presented with the
                        <systemitem>susemanager-schema</systemitem> alert dialog box. </para>
                <note>
                    <title>susemanager-schema Alert</title>
                    <para>As you currently do not have a running instance of &susemgr; it will be
                        unnecessary to follow the recommendation from this alert. In the future if
                        you have &susemgr; installed and are attempting an update you must execute
                        the commands provided by this alert.</para>
                </note>
                <informalfigure>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="mgr-install4.png" width="100%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step><para>YaST2 will present you with a list of selected packages and dependencies for
                &susemgr;. Leave the defaults and select <systemitem>Continue</systemitem> to
                proceed.</para>
            <informalfigure>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="mgr-install5.png" width="100%"/>
                    </imageobject>
                </mediaobject>
            </informalfigure>
            </step>
            <step><para>Installation of the &susemgr; 3 tech preview will now begin.</para>
            <informalfigure>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="mgr-install6.png" width="100%"/>
                    </imageobject>
                </mediaobject>
            </informalfigure>
            </step>
            <step><para>Once installation has completed check the <systemitem>Installation
                Report</systemitem> for the <emphasis>Installation Successfully Finished</emphasis>
                message.
                </para>
            <informalfigure>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="mgr-install7.png" width="100%"/>
                    </imageobject>
                </mediaobject>
            </informalfigure>
            </step>
            <step><para>Click the <systemitem>Finish</systemitem> button to complete installation of
            the &susemgr; 3 tech preview.</para></step>
        </procedure>
        <para>You have successfully completed installation of &susemgr; 3 as an add-on. In the next section you will
        setup and configure your new &susemgr; 3 Server.</para>
    </sect1>


</chapter>
