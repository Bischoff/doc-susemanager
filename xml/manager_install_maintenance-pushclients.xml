<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<!-- Converted by suse-upgrade version 1.1 -->

<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="s1-maintenance-push-clients">
    <title>Enabling Push to Clients</title><indexterm>
        
        <primary>enabling push to clients</primary></indexterm><indexterm>
            
            <primary>osa-dispatcher </primary></indexterm><indexterm>
                
                <primary>osad </primary></indexterm>
    
    <para>
        In addition to allowing client systems to regularly poll &susemgr; for
        scheduled actions, users can enable &susemgr; to immediately initiate those actions on
        provisioning-entitled systems. Thus you avoid the typical delay between
        scheduling an action and the client system retrieving the
	action from &susemgr;.
        This support is provided by the OSA dispatcher
        (<systemitem class="daemon">osad</systemitem>).
    </para>
    
    <para>
        OSA dispatcher is a service that periodically queries &susemgr; server
        for commands to execute on the client. If any actions exist, it
        sends a message via <systemitem class="daemon">jabberd</systemitem> to
        the <systemitem class="daemon">osad</systemitem> instances running on
        the clients.
    </para>
    
    <important>
        <para>
            It is mandatory to use SSL between &susemgr; and the client systems for this
            feature to work. If the SSL certificates are not available, the daemon
            on the client system will fail to connect.
        </para>
    </important>
    
    <para>
        To use this feature, first configure your firewall rules to allow
        connections on the required ports as described in
        <xref linkend="s1-requirements-additional"/>.
    </para>
    
    <para>
        Then install the
        <systemitem class="resource">osa-dispatcher</systemitem> package,
        which can be found in the &susemgr; software channel. Once installed,
        start the service as &rootuser; using the command:
    </para>
    
    <screen>rcosa-dispatcher start</screen>
    
    <para>
        Finally, install the <systemitem class="resource">osad</systemitem>
        package on all <emphasis>client</emphasis> systems to receive pushed
        actions. The package can be found in the Tools child channel.
    </para>
    
    <warning>
        <para>
            Do <emphasis>not</emphasis> install the
            <systemitem class="resource">osad</systemitem> package on the &susemgr;
            <emphasis>server</emphasis>.  The osad client package
	    conflicts with the <filename>osa-dispatcher</filename> server
            package.
        </para>
    </warning>
    
    <para>
        Once installed, start the service on the client systems as &rootuser;
        using the command:
    </para>
    
    <screen>rcosad start</screen>
    
    <para>
        Like other services, <command>rcosa-dispatcher</command> and
        <command>rcosad</command> accept <command>stop</command>,
        <command>restart</command>, and <command>status</command> commands as
        well.
    </para>
    
    <para>
        This feature depends on the client systems recognizing the fully qualified
        domain name (FQDN) of &susemgr;.  The client systems use this name and not the IP address of the
        server when configuring the YaST Online Update.<!-- TODO add
	reference? -->
    </para>
    
    <para>
        Now when you schedule actions from &susemgr; on any of the push-enabled
        systems, the task will be carried out immediately rather than after a
        client checks in.
    </para>
</sect1>
