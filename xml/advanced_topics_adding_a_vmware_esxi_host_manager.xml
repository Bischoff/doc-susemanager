<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml" 
                 title="Profiling step"?>
<!DOCTYPE chapter[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="advanced.topics.adding.vmware.esxi.host">


    <title>Inventory and VCenter and ESXi Hosts with Virtual Host Manager</title>
    <para>The following sections will guide you through inventorying a VCenter Server/VSphere ESXi
        host with &susemgr; server using <filename>Virtual Host Manager</filename>.</para>
    <sect1>
        <title>Introduction</title>
        <para>With the release of SUSE Manager 3 foreign virtual hosts (e.g. VCenter Server and
            VSphere ESXi) may be inventoried using the <filename>Virtual Host Manager</filename>.
            Define user/group, roles and permissions within VCenter Server/VSphere ESXi to allow
            specific VSphere objects and resources to be inventoried by SUSE Manager. Objects and
            resources will show up as foreign hosts from the <menuchoice>
                <guimenu>Systems</guimenu>
                <guimenu>Virtual Systems</guimenu>
            </menuchoice>.</para>
    </sect1>
    <sect1>
        <title>Requirements</title>
        <para/>
        <informaltable>
            <tgroup cols="3">
                <colspec colname="c1" colwidth="1*"/>
                <colspec colname="c2" colwidth="1*"/>
                <colspec colname="c3" colwidth="1*"/>
                <thead>
                    <row>
                        <entry><para>Required Ports </para></entry>
                        <entry><para>Permissions/Roles</para></entry>
                        <entry><para>Description</para></entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <para> (443) The default port SUSE Manager uses to access the VCenter
                                Server and VSphere ESXi API for obtaining infrastructure data
                            </para>
                        </entry>
                        <entry><para>All VCenter/ESXi objects and resources that should be inventoried by the Virtual Host Manager
                                should be assigned the  read-only role.</para></entry>
                    </row>
                    <row>
                        <entry><para></para></entry>
                    </row>
                    
                </tbody>
            </tgroup>
        </informaltable>
    </sect1>
    <sect1>
        <title>Add a VSphere ESXi Host to SUSE Manager</title>
        <para>The following procedure will guide you through adding a VSphere ESXi host to
            &susemgr;.</para>
        <procedure>
            <step>
                <para>From the &susemgr; &webui; select <guimenu>Systems</guimenu> and then
                        <guimenu>Virtual Host Managers</guimenu> from the left navigation bar.
                </para>
            </step>
            <step>
                <para>From the upper right corner of the <guimenu>Virtual Host Managers</guimenu>
                    page select <guimenu>Add VMware-based Virtual Host Manager</guimenu>.</para>
            </step>
            <step>
                <para>From the <guimenu>Add a VMware-based Virtual Host Manager</guimenu> page fill
                    in the fields with your ESXi host data and select <guimenu>Add Virtual Host
                        Manager</guimenu>. </para>
                <informalfigure>
                    <mediaobject>
                        <imageobject role="fo">
                            <imagedata fileref="VMware-host-manager.png" width="444"/>
                        </imageobject>
                        <imageobject role="html">
                            <imagedata fileref="VMware-host-manager.png" width="80%"/>
                        </imageobject>
                    </mediaobject>
                </informalfigure>
            </step>
            <step>
                <para>To view your new ESXi host and its clients select <menuchoice>
                        <guimenu>Systems</guimenu>
                        <guimenu>Virtual Systems</guimenu>
                    </menuchoice>.</para>
            </step>
        </procedure>
    </sect1>
    <sect1>
        <title/>
    </sect1>
</chapter>
