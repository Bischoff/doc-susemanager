<?xml version="1.0"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:novdoc-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE section PUBLIC
  "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="s1-sm-monitor">
 <title>Monitoring — [Mon]</title><indexterm>

 <primary>Monitoring</primary></indexterm><indexterm>

 <primary>WebLogic</primary>

 <secondary>Monitoring</secondary></indexterm>

 <para>
  If you click the <guimenu>Monitoring</guimenu> tab on the top navigation
  bar, the <guimenu>Monitoring</guimenu> category and links appear. If you
  do not see the tab, activate monitoring in
  <menuchoice><guimenu>Admin</guimenu><guimenu>&susemgr;
  Configuration</guimenu><guimenu>General</guimenu></menuchoice> and click
  the <guimenu>Enable Monitoring</guimenu> check box.
 </para>

 <para>
  Manage the configuration of your monitoring infrastructure and view the
  results of probes monitoring entitled systems.
 </para>

 <para>
  Initiate monitoring of a system through the <guimenu>Probes</guimenu> tab
  on the <guimenu>System Details</guimenu> page. Refer to
  <xref linkend="s3-sm-system-details"/> for a description of the tab. See
  <xref linkend="ap-probes-monitoring"/> for the complete list of available
  probes.
 </para>

 <sect1 id="s2-sm-monitor-status">
  <title><guimenu>Status</guimenu> — [Mon]</title><indexterm>
  <primary>macros</primary>
  <secondary>Status</secondary></indexterm>

   <important>
    <para>The Monitoring entitlement is required to view this tab.</para>
   </important>

  <para>
   Click <guimenu>Monitoring</guimenu> in the top navigation bar to see the
   <guimenu>Probe Status List</guimenu>. The page displays the summary count
   of probes in the various states and provides a simple interface to find
   problematic probes quickly. Note that the total number of probes displayed in the tabs at the
   top of the page may not match the numbers of probes displayed in the
   tables below. The counts at the top include probes for all systems in
   your organization, while the tables only display probes on those systems
   you have access to as system group administrator. Also, the probe counts
   displayed here may be out of sync by as much as one minute.
  </para>
  <para>
   The following list describes each state and identifies the icons
   associated with them:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     <inlinemediaobject>
     <imageobject role="fo">
      <imagedata fileref="icon_crit_probe.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="icon_crit_probe.png"/>
     </imageobject>
     </inlinemediaobject> — Critical: the probe has crossed a
     <quote>critical</quote> threshold.
    </para>
   </listitem>
   <listitem>
    <para>
     <inlinemediaobject>
     <imageobject role="fo">
      <imagedata fileref="icon_warn_probe.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="icon_warn_probe.png"/>
     </imageobject>
     </inlinemediaobject> — Warning: the probe has crossed a
     <quote>warning</quote> threshold.
    </para>
   </listitem>
   <listitem>
    <para>
     <inlinemediaobject>
     <imageobject role="fo">
      <imagedata fileref="icon_unknown_probe.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="icon_unknown_probe.png"/>
     </imageobject>
     </inlinemediaobject> — Unknown: the probe is not able to accurately
     report metric or state data.
    </para>
   </listitem>
   <listitem>
    <para>
     <inlinemediaobject>
     <imageobject role="fo">
      <imagedata fileref="icon_pending_probe.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="icon_pending_probe.png"/>
     </imageobject>
     </inlinemediaobject> — Pending: the probe has been scheduled but not
     yet run or is unable to run.
    </para>
   </listitem>
   <listitem>
    <para>
     <inlinemediaobject>
     <imageobject role="fo">
      <imagedata fileref="icon_ok_probe.png"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="icon_ok_probe.png"/>
     </imageobject>
     </inlinemediaobject> — OK: the probe is running successfully.
    </para>
   </listitem>
  </itemizedlist>
  <para>
   The <guimenu>Probe Status List</guimenu> page contains tabs for each of
   the possible states, as well as one that lists all probes. Each table
   contains columns indicating probe state, the monitored system, the probes
   used, and the date and time the state was last updated.
  </para>
  <para>
   In these tables, clicking the name of the system takes you to the
   <guimenu>Monitoring</guimenu> tab of the <guimenu>System Details</guimenu>
   page. Clicking the name of the probe takes you to its <guimenu>Current
   State</guimenu> page. From there, you may edit the probe, delete it, and
   generate reports based on its results.
  </para>
  <para>
   Monitoring data and probe status information available on the Web
   interface of &susemgr; can also be exported as a CSV file. Click
   on the <guimenu>Download CSV</guimenu> links throughout the Monitoring
   pages to download CSV files of relevant information. The exported data
   may include, but is not limited to:
  </para>
  <itemizedlist>
   <listitem>
    <para>
     probe status,
    </para>
   </listitem>
   <listitem>
    <para>
     all probes in a given state (<quote>OK</quote>, <quote>WARN</quote>,
     <quote>UNKNOWN</quote>, <quote>CRITICAL</quote>,
     <quote>PENDING</quote>),
    </para>
   </listitem>
   <listitem>
    <para>
     a probe event history.
    </para>
   </listitem>
  </itemizedlist>
  <sect2 id="s3-sm-monitor-status-critical">
   <title><guimenu>Probe Status</guimenu> > <guimenu>Critical</guimenu> — [Mon]</title><indexterm>
   <primary>macros</primary>
   <secondary>Critical</secondary></indexterm>
  <important>
   <para>The Monitoring entitlement is required to view this tab.</para>
  </important>
   <remark>emap 2011-03-17: This section makes the above, shorter list
   of states redundant. Merge the information were necessary or simply
   delete the one above. 2014 emap: Might be better to stay in sync
   with upstream docs, although it is rather redundant.</remark>
   <para>
    The probes that have crossed their <quote>critical</quote> thresholds or
    reached a critical status by some other means. For instance, some probes
    become critical (rather than unknown) when exceeding their timeout
    period.
   </para>
  </sect2>
  <sect2 id="s3-sm-monitor-status-warning">
   <title><guimenu>Probe Status</guimenu> > <guimenu>Warning</guimenu> — [Mon]</title><indexterm>
   <primary>macros</primary>
   <secondary>Warning</secondary></indexterm>
   <important>
    <para>The Monitoring entitlement is required to view this tab.</para>
   </important>
   <para>
    The probes that have crossed their <quote>warning</quote> thresholds.
   </para>
  </sect2>
  <sect2 id="s3-sm-monitor-status-unknown">
   <title><guimenu>Probe Status</guimenu> > <guimenu>Unknown</guimenu> — [Mon]</title><indexterm>
   <primary>macros</primary>
   <secondary>Unknown</secondary></indexterm>
   <important>
    <para>The Monitoring entitlement is required to view this tab.</para>
   </important>
   <para>
    The probes that cannot collect the metrics needed to determine probe
    state. Most but not all probes enter an unknown state when exceeding
    their timeout period. This may mean that the timeout period should be
    increased, or the connection cannot be established to the monitored
    system.
   </para>
   <para>
    It is also possible the probes' configuration parameters are not correct
    and their data cannot be found. This state may also indicate that a
    software error has occurred.
   </para>
  </sect2>
  <sect2 id="s3-sm-monitor-status-pending">
   <title><guimenu>Probe Status</guimenu> > <guimenu>Pending</guimenu> — [Mon]</title><indexterm>
   <primary>macros</primary>
   <secondary>Pending</secondary></indexterm>
   <important>
    <para>The Monitoring entitlement is required to view this tab.</para>
   </important>
   <para>
    The probes whose data have not been received by &susemgr;. This state is
    expected for a probe that has just been scheduled but has not yet run.
    If all probes go into a pending state, your monitoring infrastructure
    may be failing.
   </para>
  </sect2>
  <sect2 id="s3-sm-monitor-status-ok">
   <title><guimenu>Probe Status</guimenu> > <guimenu>OK</guimenu> — [Mon]</title><indexterm>
   <primary>macros</primary>
   <secondary>OK</secondary></indexterm>
   <important>
    <para>The Monitoring entitlement is required to view this tab.</para>
   </important>
   <para>
    The probes that have run successfully without exception. This is the
    state desired for all probes.
   </para>
  </sect2>
  <sect2 id="s3-sm-monitor-status-all">
   <title><guimenu>Probe Status</guimenu> > <guimenu>All</guimenu> — [Mon]</title><indexterm>
   <primary>macros</primary>
   <secondary>All</secondary></indexterm>
   <important>
    <para>The Monitoring entitlement is required to view this tab.</para>
   </important>
   <para>
    All probes scheduled on systems in your account, listed in alphabetical
    order by the name of system.
   </para>
  </sect2>
  <sect2 id="s3-sm-monitor-status-current">
   <title><guimenu>Current State</guimenu> — [Mon]</title><indexterm>
   <primary>macros</primary>
   <secondary>Current State</secondary></indexterm>
   <important>
    <para>The Monitoring entitlement is required to view this tab.</para>
   </important>
   <para>
    Identifies the selected probe's status and when it last ran, while
    providing the ability to generate a report on the probe. Although this
    page is integral to monitoring, it is found under the
    <guimenu>Probes</guimenu> tab within the <guimenu>System
    Details</guimenu> page since its configuration is specific to the system
    being monitored.
   </para>
   <para>
    To view a report of the probe's results, choose a relevant duration
    using the <guimenu>date</guimenu> fields and decide whether you would
    like to see metric data, the state change history or both. To obtain
    metric data, select the metric(s) on which you wish to see a report, and
    decide via the check boxes whether the results should be shown in a
    graph, an event log, or both. Then click the <guimenu>Generate
    report</guimenu> button at the bottom of the page. If no data exist for
    the probe's metrics, you are presented with the following message:
    <remark role="proofing">taroth 2011-03-28: question by bwiedemann: no data
     exist# singular/plural? I guess it's ok because data is a plural noun but
     final decision is up to the proofreader :) emap 2014-04-25: whether to use plural or singular verb form with 'data' depends on whether the data is/are an abstract mass like information (singular) or not (plural). And with probes collecting specific data 'exist' is correct. :-)</remark>
   </para>
<screen>NO DATA SELECTED TIME PERIOD AND METRIC</screen>
  </sect2>
 </sect1>

 <sect1 id="s2-sm-monitor-scout">
<!--status="rfc"-->
  <title>Scout Config Push — [Mon]</title><indexterm>
  <primary>macros</primary>
  <secondary>Scout Config Push</secondary></indexterm>
  <important>
   <para>The Monitoring entitlement is required to view this tab.</para>
  </important>
  <para>
   Displays the status of your monitoring infrastructure. Anytime you
   make changes to your monitoring configuration, such as adding a
   probe to a system or editing a probe's thresholds, these changes
   must be finalized by updating the configuration. To do so, mark the
   &susemgr; Server's check box and click <guimenu>Push Scout
   Configs</guimenu>. The table on this page identifies the date and
   time of requested and completed pushes. The monitoring scout runs
   all the probes and collects monitoring data.
  </para>
  <para>
   Clicking the name of a scout opens the SSH public key of the
   &susemgr; monitoring daemon. This allows you to copy and paste the
   SSH key to the systems that are monitored by the scout. This is
   required for the &susemgr; network monitoring daemon to connect to
   &susemgr;.
  </para>
 </sect1>

 <sect1 id="s2-sm-monitor-notif">
  <title><guimenu>Notification</guimenu> — [Mon]</title><indexterm>
  <primary>macros</primary>
  <secondary>Notification</secondary></indexterm>
  <important>
   <para>The Monitoring entitlement is required to view this tab.</para>
  </important>
  <para>
   Identifies the contact methods that have been established for your
   organization. These methods contain email addresses designated
   to receive alerts from probes.
  </para>
  <para>
   The notification methods available to your organization are
   listed here on the default <guimenu>Notification</guimenu> screen by user.
  </para>
  <para>
   To create a new notification method, click on the name of the user to be
   notified. The <menuchoice><guimenu>User
   Details</guimenu><guimenu>Notification Methods</guimenu></menuchoice>
   page appears. Refer to <xref linkend="s4-sm-user-details-notifs"/> for
   further information. Click on the title of the notification method to
   edit the properties of the method.
  </para>
  <sect2 id="s3-monitor-notif-filter">
   <title><guimenu>Notification</guimenu> > <guimenu>Filters</guimenu></title>
   <para>
    Notification filters allow you to create long-term rules that suspend,
    redirect, or automatically acknowledge standard notifications or send
    supplemental notifications. This may help to manage verbose or frequent
    probe communication.
   </para>
   <sect3 id="s4-mon-notfilter-active">
    <title><guimenu>Notification</guimenu> > <guimenu>Notification Filters</guimenu> > <guimenu>Active Filters</guimenu></title>
    <para>
     This is the default screen for the <guimenu>Notification
     Filters</guimenu> tab. It lists all active filters available for your
     organization. Click the name of the filter to edit the properties of
     the filter.
    </para>
    <para>
     To create a notification filter, click the <guimenu>create new
     notification filter</guimenu> link in the upper right of the screen.
     Configure each option listed below and click the <guimenu>Save
     Filter</guimenu> button to create the filter.
    </para>
    <orderedlist>
     <listitem>
      <para>
       <emphasis>Description</emphasis>: Enter a label that allows you to
       distinguish this filter from others.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Type</emphasis>: Determine what action the filter should
       take: redirect, acknowledge, suspend, or supplement the incoming
       notification.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Send to</emphasis>: The <guimenu>Redirect
       Notification</guimenu> and <guimenu>Supplemental
       Notification</guimenu> options in step two require an email address
       to which to send the notifications. The remaining options require no
       email address.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Scope</emphasis>: Determine which monitoring components are
       subject to the filter.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Organization/Scout/Probe</emphasis>: This option allows you
       to select the organization, scout(s), or probe(s) to which this
       filter applies. To select multiple items from the list, hold the
       <keycap function="control"/> key while clicking the names of the
       items. To select a range of items, hold the
       <keycap function="shift"/> key while clicking on the first and last
       items in the range.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Probes in State</emphasis>: Select which probe state(s)
       relate to the filter. For example, you may choose to create a
       supplemental notification for critical probes only. Uncheck the box
       to the left of any state you want the filter to ignore.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Notifications sent to</emphasis>: Select to which
       notification recipient this filter applies. You may, for
       example, redirect notifications that would normally go to a
       certain user if this user is on vacation while leaving all
       other notifications from the probe unchanged.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Match Output</emphasis>: Select precise notification
       results by entering a regular expression here. If the
       &quot;Message:&quot; part of the notification does not match the
       regular expression, the filter is not applied.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Recurring</emphasis>: Select whether a filter runs
       continuously or on a recurring basis. A recurring filter runs
       multiple times for a period of time smaller than the duration of the
       filter. For example, a recurring filter could run for 10 minutes of
       every hour between the start and end times of the filter. A
       non-recurring filter runs continuously between the start and end
       times of the filter.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Beginning</emphasis>: Enter a date and time for the filter
       to begin operation.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Ending</emphasis>: Enter an end date and time for the
       filter.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Recurring Duration</emphasis>: Choose how long a recurring
       filter instance is active. It starts at the
       <guimenu>Beginning</guimenu> time specified above. Any notification
       generated outside the specified duration is not filtered.
      </para>
     </listitem>
     <listitem>
      <para>
       <emphasis>Recurring Frequency</emphasis>: Specify how often the
       filter is activated.
      </para>
     </listitem>
    </orderedlist>
    <para>
     Notification filters cannot be deleted. However, a filter may be
     canceled. Set the end date to some time in the past but after the start
     date or else the change fails. Another method is to select a set of
     filters from the <guimenu>Active</guimenu> page and click the
     <guimenu>Expire Notification Filters</guimenu> button in the lower
     right. These filters are then canceled and appear in the
     <guimenu>Expired Filters</guimenu> tab.
    </para>
   </sect3>
   <sect3 id="s4-mon-notfilter-expired">
    <title><guimenu>Notification</guimenu> > <guimenu>Notification Filters</guimenu> > <guimenu>Expired Filters</guimenu></title>
    <para>
     This tab lists all notification filters whose end date has passed.
     Expired filters are stored indefinitely; this allows an organization to
     recycle useful filters as needed and provides a record for
     troubleshooting.
    </para>
   </sect3>
  </sect2>
 </sect1>

 <sect1 id="s2-sm-monitor-psuites">
  <title>Probe Suites — [Mon]</title>
  <para>
   Probe suites allow you to configure and apply one or more probes to a
   system or systems. Probe suites may be configured once and then applied
   to any number of systems in a batch. This approach saves time and
   provides consistency for Monitoring customers.
  </para>
  <para>
   To create and apply a probe suite, first create an empty probe suite,
   then configure member probes, and finally apply the suite to selected
   systems. Proceed as follows:
  </para>
  <procedure>
   <step>
    <para>
     From the <menuchoice><guimenu>Monitoring</guimenu><guimenu>Probe
     Suites</guimenu></menuchoice> page, select the <guimenu>create
     probe suite</guimenu> link. Enter a distinct name for the probe
     suite and a brief description of the suite. Click the
     <guimenu>Create Probe Suite</guimenu> button to continue.
    </para>
   </step>
   <step>
    <para>
     Add and configure the probes comprised in the suite. Click the
     <guimenu>create new probe</guimenu> link in the upper right.
    </para>
   </step>
   <step>
    <para>
     Configure the probe as described in
     <xref linkend="s4-sm-system-details-probes"/> and click the
     <guimenu>Create Probe</guimenu> button. Repeat this process until all
     desired probes have been added.
    </para>
    <note>
     <para>
      Your mail transfer agent must be configured correctly on your
      &susemgr; server, and each client system to which the probe suite is
      applied must have the <command>rhnmd</command> daemon installed and
      running. See the <xref linkend="book.susemanager.install"/>
<!--<citetitle>&susemgr 5.2.0 Installation Guide</citetitle>-->
      for additional information.
     </para>
    </note>
   </step>
   <step>
    <para>
     On the "Systems" tab add the systems to which the probe suite applies. Click the
     <guimenu>add systems to probe suite</guimenu> link in the upper right
     of the screen to continue.
    </para>
   </step>
   <step>
    <para>
     The next page displays a list of all systems with monitoring
     entitlements. Check the box to the left of the system(s) to which you
     wish to apply the probe suite, select the monitoring scout
     <remark>taroth
      2011-03-28: remark by bwiedemann: monitoring scout not defined in glossary
     or elsewhere - emap 2014-04-25: added a short explanation above at first mention of scouts.</remark>
     you wish to use, and click the <guimenu>Add systems to probe
     suite</guimenu> button to create the probe suite.
    </para>
   </step>
  </procedure>
  <para>
   You can either delete or detach probes from the suite. Detaching a probe
   disassociates the probe from the suite and converts it to a
   system-specific probe. Changes to the detached probe only affect that
   system. Deleting a probe removes it from the suite and from all systems.
  </para>
  <para>
   To remove a probe from a suite do the following:
  </para>
  <procedure>
   <step>
    <para>
     In the <menuchoice><guimenu>Monitoring</guimenu><guimenu>Probe
     Suites</guimenu></menuchoice> page, click on the name of the probe
     suite you wish to modify.
    </para>
   </step>
   <step>
    <para>
     Select the <guimenu>Probes</guimenu> subtab.
    </para>
   </step>
   <step>
    <para>
     Check the box next to the probe you wish to remove.
    </para>
   </step>
   <step>
    <para>
     Click the <guimenu>Delete probes from Probe Suites</guimenu> button.
    </para>
   </step>
  </procedure>
  <para>
   You may also remove a system from the probe suite. There are two ways to
   accomplish this. The first method is to detach the system from the probe
   suite. When you do so, the system still has the same probes assigned to
   it. However, you now have the ability to configure these probes
   individually without affecting any other systems. For more information
   about removing probes from an individual system, refer to
   <xref linkend="s4-sm-system-details-probes"/>.
  </para>
  <para>
   To detach a system from the suite:
  </para>
  <procedure>
   <step>
    <para>
     From the <menuchoice><guimenu>Monitoring</guimenu><guimenu>Probe
     Suites</guimenu></menuchoice> page, click the name of the probe suite
     you wish to modify.
    </para>
   </step>
   <step>
    <para>
     Select the <guimenu>Systems</guimenu> subtab.
    </para>
   </step>
   <step>
    <para>
     Check the box next to the system(s) you wish to remove from the probe
     suite.
    </para>
   </step>
   <step>
    <para>
     Click the <guimenu>Detach System(s) from Probe Suite</guimenu> button.
    </para>
   </step>
  </procedure>
  <para>
   The second method is to detach the suite from the system and with it all
   probes.
  </para>
  <note>
   <para>
    This action deletes all of the suites' probes from the system as well as
    time and event logs. This action is irreversible.
   </para>
  </note>
  <para>
   To remove a probe suite from a system and delete all associated probes
   follow these steps:
  </para>
  <procedure>
   <step>
    <para>
     On the <menuchoice><guimenu>Monitoring</guimenu><guimenu>Probe
     Suites</guimenu></menuchoice> page, click the name of the probe suite
     you wish to remove.
    </para>
   </step>
   <step>
    <para>
     Select the <guimenu>Systems</guimenu> subtab.
    </para>
   </step>
   <step>
    <para>
     Check the box next to the system(s) you wish to remove from the probe
     suite.
    </para>
   </step>
   <step>
    <para>
     Click the <guimenu>Remove System(s) from Probe Suite</guimenu> button.
    </para>
   </step>
  </procedure>
  <para>
   Finally, as with single probes, you may download a CSV file containing
   information about probe suites. Click the <guimenu>Download CSV</guimenu>
   link at the bottom of the
   <menuchoice><guimenu>Monitoring</guimenu><guimenu>Probe
   Suites</guimenu></menuchoice> page to download the file.
  </para>
 </sect1>

 <sect1 id="s2-sm-monitor-global">
  <title>General Monitoring Config — [Mon]</title><indexterm>
  <primary>macros</primary>
  <secondary>General Monitoring Config</secondary></indexterm><indexterm>
  <primary>navigation</primary>
  <secondary>filter</secondary></indexterm>
  <important>
   <para>The Monitoring entitlement is required to view this tab.</para>
  </important>
  <para>

   The default monitoring settings are derived from your &susemgr;
   installation and can be changed in
   <menuchoice>
    <guimenu>Admin</guimenu>
    <guimenu>&susemgr; Configuration</guimenu>
    <guimenu>Monitoring</guimenu></menuchoice>. Configure your organization-wide
    monitoring infrastructure, change the mail exchange server or the
    recipient of all administrative emails from &susemgr;. Beware that
    modifying this page causes the monitoring services on the &susemgr; to
    reset. This triggers restart events for the monitoring services on all
    monitoring-enabled &susemgr; servers to ensure they immediately reload
    the changed configuration. To save and roll out the changed
    configuration, click <guimenu>Update Config</guimenu>.
  </para>
  <para/>
 </sect1>
</chapter>
